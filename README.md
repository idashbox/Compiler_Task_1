# MEL Compiler

Компилятор для языка MEL (Mini Educational Language). Генерирует JVM байткод и использует Jasmin для компиляции в Java класс-файлы.

## Требования

- Python 3.8 или выше
- Java 8 или выше
- Jasmin (включен в проект)

## Структура проекта

- `mel_parser.py` - парсер языка MEL
- `mel_ast.py` - классы для AST (Abstract Syntax Tree)
- `semantics.py` - семантический анализатор
- `codegen/jbc.py` - генератор JVM байткода
- `compile-java.bat` - скрипт для компиляции .j файлов в .class
- `runtime-java/` - директория с Jasmin и вспомогательными классами

## Пример использования

1. Создайте файл с исходным кодом на языке MEL, например `test.mel`:
```
int a = 10;
int b = 20;
int c = a + b;
println(c);
```

2. Скомпилируйте код в JVM байткод:
```bash
python main.py test.mel --target jvm
```
Это создаст файл `mel.j` с JVM байткодом.

3. Скомпилируйте байткод в Java класс-файл:
```bash
.\compile-java.bat mel.j
```
Это создаст файл `Program.class`.

4. Запустите скомпилированную программу:
```bash
java Program
```

## Поддерживаемые возможности языка

- Целочисленные переменные (тип `int`)
- Арифметические операции (+, -, *, /, %)
- Функция `println` для вывода значений
- Присваивание значений переменным
- Семантический анализ типов

## Демонстрация в PyCharm

1. Откройте проект в PyCharm
2. Создайте конфигурацию запуска:
   - Нажмите "Add Configuration..."
   - Нажмите "+" и выберите "Python"
   - В поле "Script path" укажите путь к `main.py`
   - В поле "Parameters" введите `test.mel --target jvm`
   - Сохраните конфигурацию

3. Запустите компиляцию:
   - Нажмите "Run" (зелёный треугольник) или Shift+F10
   - В консоли PyCharm вы увидите процесс компиляции
   - Будет создан файл `mel.j`

4. Откройте терминал в PyCharm:
   - View -> Tool Windows -> Terminal
   - Выполните команды:
     ```bash
     .\compile-java.bat mel.j
     java Program
     ```
   - Вы увидите результат выполнения программы 